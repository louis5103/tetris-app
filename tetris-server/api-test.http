### 테트리스 서버 API 테스트
### 서버 주소: http://localhost:8080

###############################################
# 1. 사용자 관리 API
###############################################

### 회원가입
POST http://localhost:8080/tetris/users/signup
Content-Type: application/json

{
  "name": "testuser",
  "email": "test@test.com",
  "password": "test12345"
}

### 로그인
POST http://localhost:8080/tetris/users/login
Content-Type: application/json

{
  "email": "test@test.com",
  "password": "test12345"
}

> {%
    client.global.set("jwt_token", response.body.token);
    client.log("JWT Token: " + response.body.token);
%}

### 로그아웃
POST http://localhost:8080/tetris/users/logout
Authorization: Bearer {{jwt_token}}

### 토큰 재발급
POST http://localhost:8080/tetris/users/reissue
Content-Type: application/json

{
  "refreshToken": "your-refresh-token-here"
}

###############################################
# 2. 매칭 API
###############################################

### 매칭 큐 참여
POST http://localhost:8080/api/matchmaking/join
Content-Type: application/json
Authorization: Bearer {{jwt_token}}

{
  "playerId": "test@test.com",
  "gameplayType": "CLASSIC",
  "difficulty": "NORMAL"
}

### 매칭 상태 조회
GET http://localhost:8080/api/matchmaking/status?playerId=test@test.com
Authorization: Bearer {{jwt_token}}

### 큐 크기 조회
GET http://localhost:8080/api/matchmaking/queue-size?gameplayType=CLASSIC&difficulty=NORMAL
Authorization: Bearer {{jwt_token}}

### 매칭 취소
DELETE http://localhost:8080/api/matchmaking/leave?playerId=test@test.com
Authorization: Bearer {{jwt_token}}

###############################################
# 3. 헬스 체크 API (인증 불필요)
###############################################

### 기본 헬스 체크
GET http://localhost:8080/api/health

### 상세 헬스 체크
GET http://localhost:8080/api/health/detailed

### WebSocket 헬스 체크
GET http://localhost:8080/api/health/websocket

###############################################
# 4. Admin Dashboard API (인증 필요)
###############################################

### 대시보드 개요
GET http://localhost:8080/api/admin/dashboard/overview
Authorization: Bearer {{jwt_token}}

### 시스템 상태
GET http://localhost:8080/api/admin/system/status
Authorization: Bearer {{jwt_token}}

### 활성 세션 조회
GET http://localhost:8080/api/admin/sessions
Authorization: Bearer {{jwt_token}}

### 시간대별 통계 (최근 24시간)
GET http://localhost:8080/api/admin/dashboard/stats/hourly?hours=24
Authorization: Bearer {{jwt_token}}

### 실시간 메트릭스
GET http://localhost:8080/api/admin/dashboard/metrics/realtime
Authorization: Bearer {{jwt_token}}

### 세션 강제 종료
DELETE http://localhost:8080/api/admin/sessions/session-id-here
Authorization: Bearer {{jwt_token}}

### 모든 세션 강제 종료 (긴급)
DELETE http://localhost:8080/api/admin/sessions/all
Authorization: Bearer {{jwt_token}}

### 수동 가비지 컬렉션
GET http://localhost:8080/api/admin/system/gc
Authorization: Bearer {{jwt_token}}

###############################################
# 5. 게임 세션 API
###############################################

### 세션 생성
POST http://localhost:8080/api/session/create
Content-Type: application/json
Authorization: Bearer {{jwt_token}}

{
  "hostPlayerId": "test@test.com",
  "gameplayType": "CLASSIC",
  "difficulty": "NORMAL"
}

### 세션 참여
POST http://localhost:8080/api/session/join
Content-Type: application/json
Authorization: Bearer {{jwt_token}}

{
  "sessionId": "session-id-here",
  "playerId": "test@test.com"
}

### 세션 정보 조회
GET http://localhost:8080/api/session/session-id-here/info
Authorization: Bearer {{jwt_token}}

### 세션 시작
POST http://localhost:8080/api/session/session-id-here/start
Authorization: Bearer {{jwt_token}}

###############################################
# 참고사항
###############################################

# 1. 첫 번째로 "회원가입"을 실행하세요
# 2. 그 다음 "로그인"을 실행하면 JWT 토큰이 자동으로 저장됩니다
# 3. 이후 모든 API는 저장된 {{jwt_token}}을 사용합니다
# 4. IntelliJ에서 이 파일을 열고 각 요청 옆의 "Run" 버튼을 클릭하세요
